## 📝 フェーズ2プロンプト：後半部分（整理版）



```markdown

---



## 出力フォーマット



**フェーズ1の全フィールド + 設計したtrackersを含む完全なJSONを出力してください。**



### 完全版JSONの構造

```json

{

  "name": "...",

  "age": "...",

  "occupation": "...",

  ... (フェーズ1の全フィールドをそのまま維持)

  

  "trackers": [

    {

      "name": "unique_tracker_id",

      "display_name": "表示名",

      "description": "具体的な説明",

      "config": { ... }

    },

    ... (4-8個のトラッカー)

  ],

  

  "nsfw_profile": { ... }

}

```



### トラッカー設計例



```json

{

  "name": "unique_tracker_id",

  "display_name": "表示名（キャラの個性を反映）",

  "description": "このトラッカーの具体的な意味。このキャラクターにとって何を表すか。数値変化が会話や態度にどう影響するか。段階ごとの変化例を含める。100-150文字。",

  "config": {

    "type": "numeric",

    "initial_value": 30,

    "min_value": 0,

    "max_value": 100,

    "step": 1,

    "category": "relationship"

  }

}

```



-----



## トラッカー型定義



### Numeric型（数値）



```json

{

  "type": "numeric",

  "initial_value": 50,

  "min_value": 0,

  "max_value": 100,

  "step": 1,

  "category": "relationship | status | emotion | progress"

}

```



**用途**: 信頼度、親密度、恐怖度、進行度など段階的に変化する要素



### State型（状態）



```json

{

  "type": "state",

  "initial_state": "通常",

  "possible_states": [

    {"id": "通常", "label": "通常"},

    {"id": "興奮", "label": "興奮"},

    {"id": "疲労", "label": "疲労"}

  ],

  "category": "condition | emotion"

}

```



**用途**: 複数の離散的な状態を持つ要素（感情、拘束状態、バフデバフなど）  

**推奨状態数**: 3-6個



### Boolean型（真偽値）



```json

{

  "type": "boolean",

  "initial_value": false,

  "category": "condition | progress"

}

```



**用途**: ON/OFFで管理できる要素（フラグ、特定の状態の有無）  

**注意**: 多用しすぎない（最大2個まで）



### Text型（テキスト）



```json

{

  "type": "text",

  "initial_value": "",

  "max_length": 500,

  "multiline": true,

  "placeholder": "現在の状況や進行中のイベントを記録",

  "category": "progress"

}

```



**用途**: 自由記述が必要な進行状況やメモ  

**注意**: 本当に必要な場合のみ使用



-----



## カテゴリ一覧



- **relationship**: 関係性（信頼、親密度、依存度など）

- **status**: ステータス（体力、精神力、スタミナなど）

- **condition**: 状態（拘束、バフデバフ、身体的状態など）

- **emotion**: 感情（怒り、喜び、恐怖、興奮など）

- **progress**: 進行度（任務、イベント、物語の段階など）



-----



## 優れたトラッカー設計の例



### ❌ 悪い例（汎用的すぎる）



```json

{

  "name": "affection",

  "display_name": "好感度",

  "description": "キャラクターの好感度"

}

```



### ✅ 良い例（キャラ固有）



```json

{

  "name": "mask_integrity",

  "display_name": "仮面の強度",

  "description": "{{char}}が本音を隠している度合い。100で完全に感情を隠し、50以下で本音が漏れ始め、20以下で素の感情を見せる。external_personalityとinternal_personalityの乖離度を表す。",

  "config": {

    "type": "numeric",

    "initial_value": 85,

    "min_value": 0,

    "max_value": 100,

    "step": 1,

    "category": "emotion"

  }

}

```



-----



## 必須要件チェックリスト



✅ **4-8個のトラッカーを作成**（推奨は6個）  

✅ **各トラッカーに固有の意味付け**（汎用的な名前を避ける）  

✅ **descriptionは具体的に**（100-150文字、数値変化の影響を含む）  

✅ **型のバランスを考慮**（Numericメイン、Stateで補助）  

✅ **キャラの設定と矛盾しない**  

✅ **system_promptで言及された要素と連動**  

✅ **nsfw_profileに関連する要素も含める**  

✅ **initial_valueは適切に**（物語開始時の状態を反映）  

✅ **カテゴリは適切に分類**



-----



## 出力時の注意



- JSONコメントは含めない（//や/* */は使用禁止）

- **フェーズ1のJSON全体にtrackersを統合した完全なJSONを出力**

- 文字列内の改行は\nでエスケープ

- ダブルクォートは”でエスケープ

- **trackersフィールド以外はフェーズ1の内容を一字一句そのまま維持**

- 各トラッカーは深く考え、キャラクターの本質を捉えたものに

- 完全なJSON形式で構文エラーがないこと



-----



## 設計プロセス（推奨手順）



### 1. キャラクター分析（5分）



- personality（表裏）の把握

- backgroundの重要要素抽出

- system_promptの関係性進展パターン確認



### 2. 必要なトラッカーのリストアップ（3分）



- 関係性追跡：何が必要？

- 状態管理：何を防ぐ？

- 進行管理：何を記録？



### 3. 詳細設計（5分）



- 各トラッカーの具体的な意味

- 初期値の決定

- descriptionの充実



### 4. バランス確認（2分）



- 型の偏りがないか

- 重複がないか

- キャラの個性が反映されているか



-----



**このキャラクターの本質を深く理解し、物語を豊かにする最適なトラッカーシステムを設計してください。**



```

---



## 主な改善点



1. ✅ **構造の明確化**：「完全版の構造」→「設計例」の順で整理

2. ✅ **コードブロックの統一**：すべて ```json に統一

3. ✅ **重複削除**：出力フォーマットが1箇所に

4. ✅ **強調の追加**：「trackersフィールド以外は一字一句そのまま維持」を明記

5. ✅ **視認性向上**：セクション分けを明確に



このバージョンなら、AIが混乱せずに完全統合版を確実に出力してくれます！🎯​​​​​​​​​​​​​​​​

```