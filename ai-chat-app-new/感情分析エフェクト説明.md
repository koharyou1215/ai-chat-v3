# 感情分析エフェクト 視覚効果ガイド

## 🎨 フォントエフェクト（「」内のテキスト装飾）

### 動作条件
- **設定 > エフェクト > フォントエフェクト** をON
- 「」で囲まれたテキストにのみ適用

### 感情別の色分け

| 感情 | キーワード例 | 色 | 効果 |
|------|------------|-----|------|
| **ポジティブ** | 愛、好き、嬉しい、楽しい、幸せ、最高 | **ピンク** (#ff6b9d) | 光るエフェクト、太字 |
| **ネガティブ** | 悲しい、寂しい、辛い、嫌い | **ブルー** (#4a90e2) | 光るエフェクト、太字 |
| **驚き・興奮** | えっ、まさか、すごい、びっくり | **オレンジ** (#f39c12) | 光る + パルスアニメーション |
| **疑問** | ？、なんで、なぜ、どうして | **紫** (#9b59b6) | 光るエフェクト、イタリック |
| **一般強調** | ！、〜、ー、… | **赤** (#e74c3c) | 光るエフェクト、太字 |
| **デフォルト** | 上記以外のテキスト | **明るい白** (#ffffff) | 微妙な紫の光 |

### 例

```
入力: 「愛してる」と言いました。
結果: 「愛してる」← ピンク色で光る

入力: 「悲しいです」と答えた。
結果: 「悲しいです」← ブルーで光る

入力: 「内緒の話」をしました。
結果: 「内緒の話」← 明るい白色で微妙に光る（修正後）
```

---

## 💫 感情分析システム（メッセージ全体の分析）

### 動作条件
- **設定 > 感情分析 > 感情分析エンジン** をON
- メッセージ全体を自動分析

### 1. 感情アイコン表示

**設定**: 感情アイコン表示 ON

**効果**: メッセージの横に感情絵文字が表示される

| 感情 | 絵文字 |
|------|--------|
| joy（喜び） | 😊 |
| love（愛） | 💕 |
| surprise（驚き） | 😮 |
| sadness（悲しみ） | 😢 |
| anger（怒り） | 😠 |
| fear（恐怖） | 😨 |

### 2. 感情テキスト表示

**設定**: 感情テキスト表示 ON

**効果**: 感情名（joy, sadness等）がテキストで表示される

### 3. 感情カラー適用

**設定**: 感情カラー適用 ON

**効果**: メッセージバブル全体の色が感情に応じて変化

- joy → 黄色系の背景
- sadness → 青色系の背景
- anger → 赤色系の背景

### 4. パーティクルエフェクト

**設定**: パーティクルエフェクト ON + 自動リアクション ON

**効果**: 感情に応じてアニメーションが自動発動

| 感情 | エフェクト |
|------|-----------|
| joy（喜び） | ✨ キラキラが舞う |
| love（愛） | 💕 ハートシャワー |
| excitement（興奮） | 🎉 紙吹雪 |
| surprise（驚き） | ⭐ 星が放射状に飛ぶ |
| happiness（幸福） | 🌈 虹が表示 |

---

## 🔧 トラブルシューティング

### エフェクトが見えない場合

1. **フォントエフェクト**
   - 「」で囲んだテキストを入力しているか確認
   - 設定 > エフェクト > フォントエフェクト をON
   - フォントエフェクト強度を50以上に設定

2. **感情分析エフェクト**
   - 設定 > 感情分析 > 感情分析エンジン をON
   - 基本分析 をON
   - 各表示オプション（アイコン、テキスト、カラー）をON

3. **パーティクルエフェクト**
   - 設定 > エフェクト > パーティクルエフェクト をON
   - 設定 > 感情分析 > 自動リアクション をON
   - キーワード（「愛してる」「ありがとう」等）を含むメッセージを送信

### よくある誤解

❌ **誤**: フォントエフェクト = 感情分析
✅ **正**: 別々の独立した機能です

- **フォントエフェクト**: 「」内のテキストの色を変える装飾機能
- **感情分析**: メッセージ全体の感情を AI が分析する機能

両方をONにすると、より豊かな視覚体験が得られます。

---

## 📊 推奨設定

### 最大限の視覚効果を得るには

```
✅ フォントエフェクト ON（強度 70）
✅ パーティクルエフェクト ON
✅ 感情分析エンジン ON
✅ 基本分析 ON
✅ 文脈感情分析 ON
✅ 感情アイコン表示 ON
✅ 感情カラー適用 ON
✅ 自動リアクション ON
```

### パフォーマンス優先の場合

```
✅ フォントエフェクト ON（強度 30）
✅ 感情分析エンジン ON
✅ 基本分析 ON
❌ パーティクルエフェクト OFF
❌ 文脈感情分析 OFF
❌ 自動リアクション OFF
```

---

## 🎯 修正内容（本セッション）

### Before（修正前）

`default-emotion`クラス（感情キーワードに該当しないテキスト）:
- 色: `#e8e8e8`（薄いグレー）
- テキストシャドウ: 薄い
- **問題**: 背景と同化して見えない

### After（修正後）

`default-emotion`クラス:
- 色: `#ffffff`（明るい白）
- テキストシャドウ: 明るく、微妙な紫の光
- フォントウェイト: 500（やや太め）
- **効果**: はっきりと視認できるようになる

**修正ファイル**: `src/app/globals.css:120-126`
