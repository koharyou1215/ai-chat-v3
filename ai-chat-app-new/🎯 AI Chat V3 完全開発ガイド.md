#ğŸ¯ AI Chat V3 å®Œå…¨é–‹ç™ºã‚¬ã‚¤ãƒ‰

  ğŸ“‹ ç›®æ¬¡

  1. #ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
  2. #ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
  3. #ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
  4. #å‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 
  5. #ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  6. #çŠ¶æ…‹ç®¡ç†zustand
  7. #apiè¨­è¨ˆ
  8. #ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ 
  9. #ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 
  10. #ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆçµ±åˆ
  11. #è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
  12. #éŸ³å£°åˆæˆã‚·ã‚¹ãƒ†ãƒ 
  13. #é–‹ç™ºãƒ•ãƒ­ãƒ¼
  14. #ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰
  15. #ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
  16. #æœ€æ–°æ›´æ–°æƒ…å ±

  ---
  ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

  Frontend: Next.js 15.4.6 + TypeScript + Tailwind CSS
  State: Zustand (ã‚¹ãƒ©ã‚¤ã‚¹åˆ†å‰²ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
  Animation: Framer Motion
  UI: Radix UI + Lucide React Icons
  API: Gemini AI + OpenRouter + VoiceVox + ElevenLabs
  Deployment: Vercel

  ä¸»è¦æ©Ÿèƒ½

  - AIãƒãƒ£ãƒƒãƒˆ: Gemini/OpenRouter/Claudeå¯¾å¿œ
  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ : ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ«ã‚½ãƒŠæ©Ÿèƒ½
  - ãƒ¡ãƒ¢ãƒªç®¡ç†: 5å±¤éšå±¤ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ 
  - ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ : ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹è¿½è·¡
  - éŸ³å£°åˆæˆ: VoiceVox/ElevenLabså¯¾å¿œ
  - ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ„Ÿæƒ…åˆ†æãƒ»è¦–è¦šåŠ¹æœ

  ---
  ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

  å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Presentation  â”‚    â”‚    Business     â”‚    â”‚      Data       â”‚
  â”‚   (Components)  â”‚â—„â”€â”€â–ºâ”‚    (Services)   â”‚â—„â”€â”€â–ºâ”‚   (API/Store)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚                       â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚UI Layer â”‚            â”‚Logic Layerâ”‚          â”‚Storage Layerâ”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

  User Input â†’ Component â†’ Zustand Store â†’ Service Layer â†’ API â†’ Response
      â†‘                                                              â†“
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ UI Update â† State Update â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ---
  ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

  src/
  â”œâ”€â”€ app/                      # Next.js App Router
  â”‚   â”œâ”€â”€ api/                 # API Routes
  â”‚   â”‚   â”œâ”€â”€ characters/      # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†API
  â”‚   â”‚   â”œâ”€â”€ personas/        # ãƒšãƒ«ã‚½ãƒŠç®¡ç†API
  â”‚   â”‚   â”œâ”€â”€ upload/          # ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰API
  â”‚   â”‚   â””â”€â”€ voice/           # éŸ³å£°åˆæˆAPI
  â”‚   â”œâ”€â”€ globals.css          # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
  â”‚   â”œâ”€â”€ layout.tsx           # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  â”‚   â””â”€â”€ page.tsx            # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
  â”œâ”€â”€ components/              # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  â”‚   â”œâ”€â”€ chat/               # ãƒãƒ£ãƒƒãƒˆé–¢é€£UI
  â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
  â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
  â”‚   â”‚   â”œâ”€â”€ MessageInput.tsx
  â”‚   â”‚   â”œâ”€â”€ RichMessage.tsx
  â”‚   â”‚   â””â”€â”€ AdvancedEffects.tsx
  â”‚   â”œâ”€â”€ character/          # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†UI
  â”‚   â”œâ”€â”€ settings/           # è¨­å®šUI
  â”‚   â”œâ”€â”€ tracker/            # ãƒˆãƒ©ãƒƒã‚«ãƒ¼UI
  â”‚   â”œâ”€â”€ memory/             # ãƒ¡ãƒ¢ãƒªç®¡ç†UI
  â”‚   â””â”€â”€ ui/                 # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  â”œâ”€â”€ contexts/               # React Context
  â”‚   â””â”€â”€ EffectSettingsContext.tsx
  â”œâ”€â”€ services/               # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
  â”‚   â”œâ”€â”€ api/                # APIé–¢é€£ã‚µãƒ¼ãƒ“ã‚¹
  â”‚   â”‚   â”œâ”€â”€ gemini-client.ts
  â”‚   â”‚   â”œâ”€â”€ openrouter-client.ts (å‰Šé™¤æ¸ˆã¿)
  â”‚   â”‚   â””â”€â”€ vector-search.ts
  â”‚   â”œâ”€â”€ memory/             # ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ 
  â”‚   â”‚   â”œâ”€â”€ conversation-manager.ts
  â”‚   â”‚   â”œâ”€â”€ dynamic-summarizer.ts
  â”‚   â”‚   â”œâ”€â”€ memory-layer-manager.ts
  â”‚   â”‚   â””â”€â”€ vector-store.ts
  â”‚   â”œâ”€â”€ tracker/            # ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 
  â”‚   â”‚   â””â”€â”€ tracker-manager.ts
  â”‚   â”œâ”€â”€ api-manager.ts      # çµ±åˆAPIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
  â”‚   â”œâ”€â”€ inspiration-service.ts # ææ¡ˆç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹
  â”‚   â””â”€â”€ prompt-builder.service.ts
  â”œâ”€â”€ store/                  # ZustandçŠ¶æ…‹ç®¡ç†
  â”‚   â”œâ”€â”€ slices/             # çŠ¶æ…‹ã‚¹ãƒ©ã‚¤ã‚¹
  â”‚   â”‚   â”œâ”€â”€ chat.slice.ts
  â”‚   â”‚   â”œâ”€â”€ character.slice.ts
  â”‚   â”‚   â”œâ”€â”€ memory.slice.ts
  â”‚   â”‚   â”œâ”€â”€ settings.slice.ts
  â”‚   â”‚   â”œâ”€â”€ suggestion.slice.ts
  â”‚   â”‚   â””â”€â”€ tracker.slice.ts
  â”‚   â””â”€â”€ index.ts            # ã‚¹ãƒˆã‚¢çµ±åˆ
  â”œâ”€â”€ types/                  # TypeScriptå‹å®šç¾©
  â”‚   â”œâ”€â”€ core/               # ã‚³ã‚¢å‹å®šç¾©
  â”‚   â”‚   â”œâ”€â”€ base.types.ts
  â”‚   â”‚   â”œâ”€â”€ message.types.ts (çµ±ä¸€æ¸ˆã¿)
  â”‚   â”‚   â”œâ”€â”€ character.types.ts
  â”‚   â”‚   â”œâ”€â”€ memory.types.ts
  â”‚   â”‚   â”œâ”€â”€ session.types.ts
  â”‚   â”‚   â”œâ”€â”€ tracker.types.ts
  â”‚   â”‚   â””â”€â”€ settings.types.ts
  â”‚   â”œâ”€â”€ api/                # APIå‹å®šç¾©
  â”‚   â”‚   â”œâ”€â”€ requests.types.ts
  â”‚   â”‚   â””â”€â”€ responses.types.ts
  â”‚   â”œâ”€â”€ ui/                 # UIå‹å®šç¾©
  â”‚   â””â”€â”€ index.ts            # å‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆçµ±åˆ
  â”œâ”€â”€ lib/                    # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  â”‚   â””â”€â”€ utils.ts
  â””â”€â”€ hooks/                  # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯

  ---
  ğŸ”§ å‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 

  çµ±ä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‹ï¼ˆ2024å¹´8æœˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ¸ˆã¿ï¼‰

  // src/types/core/message.types.ts
  export interface UnifiedMessage extends BaseEntity, SoftDeletable, WithMetadata {
    // åŸºæœ¬æƒ…å ±
    session_id: UUID;
    role: MessageRole;
    content: string;
    image_url?: string;

    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£
    character_id?: UUID;
    character_name?: string;
    character_avatar?: string;

    // ãƒ¡ãƒ¢ãƒªé–¢é€£
    memory: {
      importance: MemoryImportance;
      is_pinned: boolean;
      is_bookmarked: boolean;
      keywords: string[];
      summary?: string;
    };

    // è¡¨ç¾é–¢é€£
    expression: {
      emotion: EmotionState;
      style: MessageStyle;
      effects: VisualEffect[];
    };

    // ç·¨é›†å±¥æ­´
    edit_history: MessageEditEntry[];
    regeneration_count: number;
  }

  åŸºæœ¬ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å‹

  // src/types/core/base.types.ts
  export interface BaseEntity {
    id: UUID;
    created_at: Timestamp;
    updated_at: Timestamp;
    version: number;
  }

  export interface SoftDeletable {
    is_deleted: boolean;
  }

  export interface WithMetadata<T = Record<string, unknown>> {
    metadata: T;
  }

  ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å‹

  // src/types/core/character.types.ts
  export interface UnifiedCharacter extends BaseEntity, WithMetadata {
    name: string;
    age: string;
    occupation: string;
    personality: string;
    external_personality: string;
    internal_personality: string;
    speaking_style: string;
    background: string;
    scenario: string;
    first_message: string;
    avatar_url?: string;
    trackers: TrackerDefinition[];
    nsfw_profile?: NSFWProfile;
  }

  ---
  ğŸ§© ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

  ChatInterface.tsx

  // ãƒ¡ã‚¤ãƒ³ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  // å½¹å‰²: å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«ç®¡ç†ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¶å¾¡
  // ä¾å­˜: ã™ã¹ã¦ã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

  Key Features:
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
  - ãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆç®¡ç†
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

  MessageBubble.tsx

  // å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  // å½¹å‰²: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

  Key Features:
  - å‹•çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
  - ç·¨é›†æ©Ÿèƒ½ï¼ˆ2024å¹´8æœˆè¿½åŠ ï¼‰
  - éŸ³å£°å†ç”Ÿãƒ»åˆæˆ
  - æ„Ÿæƒ…ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå†ç”Ÿæˆãƒ»ã‚³ãƒ”ãƒ¼ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ç­‰ï¼‰

  TrackerDisplay.tsx

  // ãƒˆãƒ©ãƒƒã‚«ãƒ¼è¡¨ç¤ºãƒ»æ“ä½œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  // å½¹å‰²: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹è¡¨ç¤ºãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ›´æ–°

  Key Features:
  - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
  - æ•°å€¤ãƒ»çŠ¶æ…‹ãƒ»ãƒ–ãƒ¼ãƒ«ãƒ»ãƒ†ã‚­ã‚¹ãƒˆãƒˆãƒ©ãƒƒã‚«ãƒ¼å¯¾å¿œ
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰æ›´ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
  - è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

  ---
  ğŸª çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

  ã‚¹ãƒˆã‚¢æ§‹é€ 

  // src/store/index.ts
  export interface AppStore extends
    ChatSlice,
    CharacterSlice,
    MemorySlice,
    SettingsSlice,
    SuggestionSlice,
    TrackerSlice {}

  // ã‚¹ãƒ©ã‚¤ã‚¹çµ±åˆ
  export const useAppStore = create<AppStore>()(
    persist(
      (...args) => ({
        ...createChatSlice(...args),
        ...createCharacterSlice(...args),
        ...createMemorySlice(...args),
        ...createSettingsSlice(...args),
        ...createSuggestionSlice(...args),
        ...createTrackerSlice(...args),
      }),
      {
        name: 'ai-chat-store',
        partialize: (state) => ({
          // æ°¸ç¶šåŒ–å¯¾è±¡ã®é¸æŠ
          characters: state.characters,
          personas: state.personas,
          apiConfig: state.apiConfig,
          voice: state.voice,
          // ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯æ°¸ç¶šåŒ–ã—ãªã„ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®ï¼‰
        }),
      }
    )
  );

  ChatSlice

  // src/store/slices/chat.slice.ts
  export interface ChatSlice {
    sessions: Map<UUID, UnifiedChatSession>;
    trackerManagers: Map<UUID, TrackerManager>;
    active_session_id: UUID | null;
    is_generating: boolean;

    // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    createSession: (character: Character, persona: Persona) => Promise<UUID>;
    sendMessage: (content: string, imageUrl?: string) => Promise<void>;
    regenerateLastMessage: () => Promise<void>;
    deleteMessage: (message_id: UUID) => void;
  }

  ---
  ğŸ”Œ APIè¨­è¨ˆ

  APIãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆçµ±åˆæ¸ˆã¿ï¼‰

  // src/services/api-manager.ts
  export class APIManager {
    private currentConfig: APIConfig;
    private openRouterApiKey: string | null = null;

    // çµ±ä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
    async generateMessage(
      systemPrompt: string,
      userMessage: string,
      conversationHistory: { role: 'user' | 'assistant'; content: string }[],
      options?: Partial<APIConfig>
    ): Promise<string>

    // Gemini/OpenRouterè‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
    private async generateWithGemini(...)
    private async generateWithOpenRouter(...)
  }

  API Routes

  // src/app/api/characters/route.ts
  export async function GET(): Promise<NextResponse<Character[]>>
  export async function POST(request: NextRequest): Promise<NextResponse>

  // src/app/api/voice/voicevox/route.ts
  export async function POST(request: NextRequest): Promise<NextResponse>
  // Body: { text: string, speakerId: number, settings: VoiceVoxSettings }

  // src/app/api/upload/image/route.ts
  export async function POST(request: NextRequest): Promise<NextResponse>
  // ç”»åƒãƒ»å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆ50MBåˆ¶é™ï¼‰

  ---
  ğŸ§  ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ 

  5å±¤éšå±¤ãƒ¡ãƒ¢ãƒª

  // src/services/memory/memory-layer-manager.ts
  interface MemoryLayers {
    immediate_memory: MemoryLayer;    // ç›´è¿‘3ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    working_memory: MemoryLayer;      // æ´»ç™ºãª10ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    episodic_memory: MemoryLayer;     // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰50ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    semantic_memory: MemoryLayer;     // é‡è¦ãª200ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    permanent_memory: PermanentLayer; // ãƒ”ãƒ³ç•™ã‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»è¦ç´„
  }

  // è‡ªå‹•ç§»è¡Œãƒ­ã‚¸ãƒƒã‚¯
  class MemoryLayerManager {
    addMessage(message: UnifiedMessage): void
    promoteMessage(messageId: string, fromLayer: string, toLayer: string): void
    demoteMessage(messageId: string, fromLayer: string, toLayer: string): void
    compressLayer(layerName: string): void
  }

  ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢

  // src/services/memory/vector-store.ts
  class VectorStore {
    private messages: Map<string, UnifiedMessage> = new Map();
    private embeddings: Map<string, number[]> = new Map();

    async addMessage(message: UnifiedMessage): Promise<void>
    async searchSimilar(query: string, limit: number = 5): Promise<SearchResult[]>
    cosineSimilarity(a: number[], b: number[]): number
  }

  ---
  ğŸ“Š ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

  ãƒˆãƒ©ãƒƒã‚«ãƒ¼å®šç¾©

  // src/types/core/tracker.types.ts
  export interface TrackerDefinition extends BaseEntity {
    name: string;
    display_name: string;
    description?: string;
    category: 'relationship' | 'status' | 'condition' | 'other';
    config: TrackerConfig;
  }

  export type TrackerConfig =
    | NumericTrackerConfig
    | StateTrackerConfig
    | BooleanTrackerConfig
    | TextTrackerConfig;

  ãƒˆãƒ©ãƒƒã‚«ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼

  // src/services/tracker/tracker-manager.ts
  export class TrackerManager {
    private trackerSets: Map<string, TrackerSet> = new Map();

    initializeTrackerSet(characterId: string, trackers: TrackerDefinition[]): TrackerSet
    updateTracker(characterId: string, trackerName: string, newValue: TrackerValue): void
    getTrackersForPrompt(characterId: string): string

    // è‡ªå‹•æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯
    analyzeMessageForTrackerUpdates(message: UnifiedMessage): TrackerUpdate[]
  }

  ---
  ğŸ”§ é–‹ç™ºãƒ•ãƒ­ãƒ¼

  ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

  # 1. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  npm install

  # 2. ç’°å¢ƒå¤‰æ•°è¨­å®š
  cp .env.local.example .env.local
  # NEXT_PUBLIC_GEMINI_API_KEY=your_api_key
  # ELEVENLABS_API_KEY=your_api_key
  # VOICEVOX_ENGINE_URL=http://127.0.0.1:50021

  # 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
  npm run dev
  # http://localhost:3000

  # 4. å‹ãƒã‚§ãƒƒã‚¯
  npx tsc --noEmit

  # 5. ãƒ“ãƒ«ãƒ‰
  npm run build

  ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

  // 1. å‹å®‰å…¨æ€§å„ªå…ˆ
  // âŒ æ‚ªã„ä¾‹
  const message: any = getMessage();

  // âœ… è‰¯ã„ä¾‹
  const message: UnifiedMessage = getMessage();

  // 2. çµ±ä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‹ä½¿ç”¨
  // âŒ æ—§å‹ï¼ˆå‰Šé™¤æ¸ˆã¿ï¼‰
  interface Message { sender: 'user' | 'assistant'; }

  // âœ… æ–°å‹
  interface UnifiedMessage { role: 'user' | 'assistant'; }

  // 3. ã‚µãƒ¼ãƒ“ã‚¹å±¤åˆ†é›¢
  // âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§APIç›´æ¥å‘¼ã³å‡ºã—
  const response = await fetch('/api/chat');

  // âœ… ã‚µãƒ¼ãƒ“ã‚¹çµŒç”±
  const response = await apiManager.generateMessage(prompt, message);

  // 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  try {
    const result = await someAsyncOperation();
    return result;
  } catch (error) {
    console.error('Operation failed:', error);
    throw new Error(`Failed to complete operation: ${error.message}`);
  }

  ---
  ğŸ› ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰

  ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºæ–¹æ³•

  1. å‹ã‚¨ãƒ©ãƒ¼

  // ã‚¨ãƒ©ãƒ¼: Property 'sender' does not exist on type 'UnifiedMessage'
  // è§£æ±º: æ—§å‹å‚ç…§ã‚’æ–°å‹ã«æ›´æ–°
  message.sender â†’ message.role

  2. ãƒˆãƒ©ãƒƒã‚«ãƒ¼è¡¨ç¤ºå•é¡Œ

  // ã‚¨ãƒ©ãƒ¼: ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã®åˆæœŸå€¤ãŒè¡¨ç¤ºã•ã‚Œãªã„
  // è§£æ±º: tracker.config.type ã‚’æ­£ã—ãå‚ç…§
  tracker.type â†’ tracker.config?.type

  3. éŸ³å£°å†ç”Ÿã‚¨ãƒ©ãƒ¼

  // ã‚¨ãƒ©ãƒ¼: VoiceVox APIãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼
  // è§£æ±º: æ­£ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å½¢å¼ä½¿ç”¨
  { speaker: 1, speed: 1.0 }
  â†’
  { speakerId: 1, settings: { speed: 1.0 } }

  4. ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

  # TypeScriptå‹ã‚¨ãƒ©ãƒ¼
  npx tsc --noEmit --skipLibCheck

  # ä¾å­˜é–¢ä¿‚å•é¡Œ
  rm -rf node_modules package-lock.json
  npm install

  # Next.js ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
  rm -rf .next
  npm run build

  ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«è¨­å®š

  // 1. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°è¨­å®š
  // src/lib/debug.ts
  export const debugLog = (component: string, data: any) => {
    if (process.env.NODE_ENV === 'development') {
      console.log(`[${component}]`, data);
    }
  };

  // 2. Zustand DevTools
  import { devtools } from 'zustand/middleware';
  export const useAppStore = create<AppStore>()(
    devtools(
      persist(...),
      { name: 'ai-chat-store' }
    )
  );

  // 3. React DevTools Profilerä½¿ç”¨æ¨å¥¨

  ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

  // 1. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–
  const MemoizedComponent = React.memo(ExpensiveComponent);

  // 2. çŠ¶æ…‹æ›´æ–°æœ€é©åŒ–
  // âŒ éåº¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  const allMessages = useAppStore(state => state.sessions);

  // âœ… å¿…è¦ãªéƒ¨åˆ†ã®ã¿
  const activeMessages = useAppStore(state =>
    state.sessions.get(state.active_session_id)?.messages || []
  );

  // 3. å¤§ããªãƒªã‚¹ãƒˆä»®æƒ³åŒ–
  import { FixedSizeList as List } from 'react-window';

  ---
  ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

  Vercelè¨­å®š

  // vercel.json
  {
    "buildCommand": "npm run build",
    "installCommand": "npm install",
    "outputDirectory": ".next",
    "functions": {
      "src/app/api/**/*.ts": {
        "maxDuration": 30
      }
    },
    "env": {
      "NEXT_PUBLIC_GEMINI_API_KEY": "@gemini-api-key",
      "ELEVENLABS_API_KEY": "@elevenlabs-api-key",
      "VOICEVOX_ENGINE_URL": "@voicevox-url"
    }
  }

  ç’°å¢ƒå¤‰æ•°

  # æœ¬ç•ªç’°å¢ƒ
  NEXT_PUBLIC_GEMINI_API_KEY=     # Gemini APIã‚­ãƒ¼
  ELEVENLABS_API_KEY=             # ElevenLabs APIã‚­ãƒ¼
  OPENROUTER_TITLE=               # OpenRouterã‚¢ãƒ—ãƒªå
  RUNWARE_API_KEY=                # ç”»åƒç”ŸæˆAPIã‚­ãƒ¼
  VOICEVOX_ENGINE_URL=            # VoiceVoxã‚¨ãƒ³ã‚¸ãƒ³URL

  ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰

  # 1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ç¢ºèª
  npm run build

  # 2. Vercelãƒ‡ãƒ—ãƒ­ã‚¤
  npx vercel --prod

  # 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ï¼ˆå¿…è¦æ™‚ï¼‰
  vercel rm project-name --yes

  # 4. æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
  rm -rf .vercel
  npx vercel --prod --yes

  ---
  ğŸ” ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ç¢ºèªï¼ˆ2024å¹´8æœˆ20æ—¥æ™‚ç‚¹ï¼‰

  ## ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶

  ### ãƒ¡ãƒ¢ãƒªè¨˜æ†¶å±¤
  - **è‡ªå‹•æ›´æ–°**: âŒ æœªå®Ÿè£…
  - **éšå±¤ç®¡ç†**: memory-layer-manager.ts ã¯å­˜åœ¨ã™ã‚‹ãŒã€è‡ªå‹•ç§»è¡Œãƒ­ã‚¸ãƒƒã‚¯ã¯æœªå®Ÿè£…
  - **æ‰‹å‹•æ“ä½œ**: âœ… é™å®šçš„ã«å¯èƒ½
    - å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å±•é–‹ãƒ»è©³ç´°è¡¨ç¤ºï¼ˆMemoryLayerDisplay.tsx:129-131ï¼‰
    - ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¯ãƒªã‚¢æ©Ÿèƒ½ï¼ˆMemoryLayerDisplay.tsx:133-137ï¼‰
    - çµ±è¨ˆæƒ…å ±è¡¨ç¤ºï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã€æ“ä½œæ•°ï¼‰

  ### ãƒ¡ãƒ¢ãƒªã‚«ãƒ¼ãƒ‰æ©Ÿèƒ½
  - **æ‰‹å‹•ä½œæˆ**: âœ… AIè‡ªå‹•ç”Ÿæˆå®Ÿè£…æ¸ˆã¿ - memory.slice.ts:49-169
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ–°è¦ä½œæˆã€ãƒœã‚¿ãƒ³ã§ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä½œæˆ
    - æœ€æ–°5ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰AIåˆ†æã«ã‚ˆã‚‹è‡ªå‹•ç”Ÿæˆ
    - ã‚¿ã‚¤ãƒˆãƒ«ã€è¦ç´„ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’è‡ªå‹•åˆ¤å®š
    - é‡è¦åº¦ã‚¹ã‚³ã‚¢ãƒ»æ„Ÿæƒ…ã‚¿ã‚°ãƒ»æ–‡è„ˆã‚¿ã‚°ã®è‡ªå‹•ä»˜ä¸
    - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ä»˜ãï¼ˆAIå¤±æ•—æ™‚ã®ä»£æ›¿å‡¦ç†ï¼‰
  - **å®Œå…¨è‡ªå‹•ä½œæˆ**: âœ… æ–°è¦å®Ÿè£… - auto-memory-manager.ts
    - ä¼šè©±ä¸­ã®é‡è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•æ¤œå‡ºã—ã¦ãƒ¡ãƒ¢ãƒªãƒ¼ä½œæˆ
    - é‡è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ„Ÿæƒ…é‡ã¿ãƒ»ä¼šè©±æ·±åº¦ãƒ»æ™‚é–“çš„é‡è¦æ€§ã‚’ç·åˆåˆ¤å®š
    - é–¾å€¤ã‚¹ã‚³ã‚¢0.7ä»¥ä¸Šã§è‡ªå‹•ä½œæˆå®Ÿè¡Œ
    - chat.slice.ts:260-272ã§å„AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¾Œã«å®Ÿè¡Œ
  - **AIç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹**: memory-card-generator.ts
    - JSONå½¢å¼ã§ã®æ§‹é€ åŒ–åˆ†æ
    - æ„Ÿæƒ…é‡ã¿ãƒ»ç¹°ã‚Šè¿”ã—åº¦ãƒ»å¼·èª¿åº¦ã®è‡ªå‹•è¨ˆç®—
    - é¡ä¼¼åº¦æ¤œå‡ºãƒ»ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢ã«ã‚ˆã‚‹é‡è¤‡åˆ¤å®š
  - **è¡¨ç¤ºãƒ»ç·¨é›†**: âœ… å®Ÿè£…æ¸ˆã¿ - MemoryCard.tsx
  - **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»æ¤œç´¢**: âœ… å®Ÿè£…æ¸ˆã¿

  ## ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ç¾çŠ¶

  ### è¿”ä¿¡ææ¡ˆæ©Ÿèƒ½
  - **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‚ç…§**: âœ… ãƒãƒ£ãƒƒãƒˆè¨­å®šã‹ã‚‰å‚ç…§
  - **å®Ÿè£…å ´æ‰€**: inspiration-service.ts:14-67
  - **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ**: âœ… customPrompt ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¨­å®šå¯èƒ½
  - **ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼**: {{conversation}} ãŒä¼šè©±ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ç½®æ›
  - **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ãƒ†ã‚´ãƒªãƒ¼**: ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¸ˆã¿ï¼ˆinspiration-service.ts:30-35ï¼‰
    - å…±æ„Ÿãƒ»å—å®¹å‹
    - æ¢æ±‚ãƒ»é–‹ç™ºå‹ï¼ˆåˆ†æãƒ»èª¿æ•™å¸«å‹ï¼‰  
    - æŒ‘ç™ºãƒ»é€¸è„±å‹ãªè¿”ä¿¡æ–‡
    - ç”˜ãˆãƒ»ä¾å­˜å‹ï¼ˆãƒ¤ãƒ³ãƒ‡ãƒ¬ãƒ»å¹´ä¸‹å½¼æ°å‹ï¼‰
  - **è§£ææ©Ÿèƒ½å¼·åŒ–**: è¤‡æ•°ã®è§£ææ–¹å¼ã§æŸ”è»Ÿå¯¾å¿œï¼ˆinspiration-service.ts:188-261ï¼‰
    - [ã‚«ãƒ†ã‚´ãƒªãƒ¼]å½¢å¼ã®æ­£ç¢ºãƒãƒƒãƒãƒ³ã‚°
    - ç•ªå·ä»˜ããƒªã‚¹ãƒˆï¼ˆ1. 2. 3.ï¼‰ã§ã®åˆ†å‰²
    - ç®‡æ¡æ›¸ãï¼ˆ- â€¢ï¼‰ã§ã®åˆ†å‰²  
    - æ®µè½åˆ†å‰²ã«ã‚ˆã‚‹æœ€çµ‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - **å‡ºåŠ›å½¢å¼æ”¹å–„**: {{user}}è¦–ç‚¹ãƒ»ç®‡æ¡æ›¸ããƒ»èª¬æ˜æ–‡ç¦æ­¢ã®æŒ‡ç¤ºè¿½åŠ 

  ### æ–‡ç« å¼·åŒ–æ©Ÿèƒ½  
  - **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‚ç…§**: âœ… ãƒãƒ£ãƒƒãƒˆè¨­å®šã‹ã‚‰å‚ç…§
  - **å®Ÿè£…å ´æ‰€**: inspiration-service.ts:75-112
  - **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ**: âœ… enhancePrompt ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¨­å®šå¯èƒ½
  - **ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼**: {{conversation}}, {{user}}, {{text}} ãŒç½®æ›
  - **å¿…é ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼**: {{user}} ã¾ãŸã¯ {{text}} ã®ã„ãšã‚Œã‹ï¼ˆå…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆç”¨ï¼‰

  ## ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶
  - **è‡ªå‹•æ›´æ–°**: âœ… æ­£å¸¸å‹•ä½œ
  - **UIè¡¨ç¤º**: âœ… æ­£å¸¸å‹•ä½œ
  - **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ **: âœ… æ­£å¸¸å‹•ä½œ

  ---
  ğŸ“š è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹

  é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

  ğŸ”¥ æœ€é‡è¦ï¼ˆã‚³ã‚¢æ©Ÿèƒ½ï¼‰
  â”œâ”€â”€ src/types/core/message.types.ts    # çµ±ä¸€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‹
  â”œâ”€â”€ src/store/index.ts                 # Zustandçµ±åˆã‚¹ãƒˆã‚¢
  â”œâ”€â”€ src/services/api-manager.ts        # APIçµ±åˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
  â”œâ”€â”€ src/components/chat/ChatInterface.tsx
  â””â”€â”€ src/components/chat/MessageBubble.tsx

  âš¡ é‡è¦ï¼ˆä¸»è¦æ©Ÿèƒ½ï¼‰
  â”œâ”€â”€ src/services/tracker/tracker-manager.ts
  â”œâ”€â”€ src/services/memory/memory-layer-manager.ts
  â”œâ”€â”€ src/store/slices/chat.slice.ts
  â”œâ”€â”€ src/components/tracker/TrackerDisplay.tsx
  â””â”€â”€ src/contexts/EffectSettingsContext.tsx

  ğŸ› ï¸ è¨­å®šãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
  â”œâ”€â”€ src/types/index.ts
  â”œâ”€â”€ src/lib/utils.ts
  â”œâ”€â”€ next.config.js
  â””â”€â”€ tailwind.config.js

  é–‹ç™ºã‚³ãƒãƒ³ãƒ‰é›†

  # é–‹ç™º
  npm run dev                    # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
  npm run build                  # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
  npm run start                  # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
  npx tsc --noEmit              # å‹ãƒã‚§ãƒƒã‚¯ã®ã¿

  # ãƒ‡ãƒãƒƒã‚°
  npm run dev -- --port 3001   # ãƒãƒ¼ãƒˆæŒ‡å®šèµ·å‹•
  npm run build -- --debug     # ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰

  # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
  rm -rf .next node_modules     # å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
  npm install                   # å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

  ---
  ğŸ¯ ã¾ã¨ã‚

  ã“ã®AI Chat V3ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å‹å®‰å…¨æ€§ã€ä¿å®ˆæ€§ã€æ‹¡å¼µæ€§ã‚’é‡è¦–ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

  é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹

  1. å¿…ãšUnifiedMessageå‹ã‚’ä½¿ç”¨ï¼ˆæ—§Messageå‹ã¯å‰Šé™¤æ¸ˆã¿ï¼‰
  2. ã‚µãƒ¼ãƒ“ã‚¹å±¤ã‚’çµŒç”±ã—ã¦APIå‘¼ã³å‡ºã—
  3. Zustandã‚¹ãƒ©ã‚¤ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§çŠ¶æ…‹ç®¡ç†
  4. TypeScriptå‹ãƒã‚§ãƒƒã‚¯ã‚’å¸¸æ™‚å®Ÿè¡Œ

  æ‹¡å¼µæ™‚ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

  1. æ–°æ©Ÿèƒ½ã¯æ—¢å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«å¾“ã£ã¦å®Ÿè£…
  2. å‹å®šç¾©ã‚’å…ˆã«ä½œæˆã—ã¦ã‹ã‚‰å®Ÿè£…
  3. ãƒ†ã‚¹ãƒˆå¯èƒ½ãªå°ã•ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æ§‹ç¯‰

---
## ğŸ†• æœ€æ–°æ›´æ–°æƒ…å ±

### 2025-08-21 ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

#### ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ ä¿®æ­£
- **JSONãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ä¿®æ­£**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ç ´æãƒ‡ãƒ¼ã‚¿å¯¾å¿œã«ã‚ˆã‚Šã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’å®Œå…¨è§£æ¶ˆ
- **ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ä½ç½®ä¿®æ­£**: ãƒ¢ãƒã‚¤ãƒ«ã§ã®å³ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«è¡¨ç¤ºå•é¡Œã‚’è§£æ±º
- **useMemoã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ **: ChatInterfaceã§ã®å‹ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£

#### ğŸµ éŸ³å£°ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„  
- **éŸ³å£°è‡ªå‹•å†ç”Ÿæ©Ÿèƒ½**: AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è‡ªå‹•éŸ³å£°å†ç”Ÿã‚’å®Ÿè£…
- **é‡è¤‡å†ç”Ÿé˜²æ­¢**: éŸ³å£°ã®é‡è¤‡ãƒ»ãƒªãƒ”ãƒ¼ãƒˆå†ç”Ÿã‚’å®Œå…¨è§£æ±º
- **VoiceVox/ElevenLabså¯¾å¿œ**: ä¸¡ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ã®éŸ³å£°è‡ªå‹•å†ç”Ÿ

#### ğŸ“Š ãƒˆãƒ©ãƒƒã‚«ãƒ¼ã‚·ã‚¹ãƒ†ãƒ å¼·åŒ–
- **æ–°æ—§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ**: çµ±ä¸€ã•ã‚ŒãŸã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®šå½¢å¼ã‚’ã‚µãƒãƒ¼ãƒˆ
- **è¡¨ç¤ºå•é¡Œè§£æ±º**: ãƒˆãƒ©ãƒƒã‚«ãƒ¼ãƒ‘ãƒãƒ«ã®åŠåˆ†è¡¨ç¤ºå•é¡Œã‚’ä¿®æ­£
- **åˆæœŸåŒ–å‡¦ç†æ”¹å–„**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ‡ã‚Šæ›¿ãˆæ™‚ã®å®‰å®šæ€§å‘ä¸Š

#### ğŸ§  ãƒ¡ãƒ¢ãƒªã‚«ãƒ¼ãƒ‰æ©Ÿèƒ½å¾©æ—§
- **è‡ªå‹•æ›´æ–°æ©Ÿèƒ½**: ãƒˆãƒ©ãƒƒã‚«ãƒ¼é€£å‹•ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªã‚«ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆã‚’å¾©æ´»
- **é‡è¦åº¦åˆ¤å®š**: ä¼šè©±ã®é‡è¦åº¦ã«åŸºã¥ãè‡ªå‹•ãƒ¡ãƒ¢ãƒªä½œæˆ

#### âš™ï¸ è¨­å®šã‚·ã‚¹ãƒ†ãƒ æ”¹å–„
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: å‰Šé™¤å¾Œã®å¾©æ´»å•é¡Œã‚’è§£æ±º
- **è¨­å®šæ°¸ç¶šåŒ–**: ã‚ˆã‚Šå®‰å…¨ãªè¨­å®šä¿å­˜ãƒ»èª­ã¿è¾¼ã¿
- **ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½**: ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®åˆæœŸåŒ–æ©Ÿèƒ½è¿½åŠ 

#### ğŸ¨ UI/UXå‘ä¸Š
- **ã€Œç¶šãã‚’å‡ºåŠ›ã€ãƒœã‚¿ãƒ³**: ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«å¾©æ´»
- **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ”¹å–„
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: ã‚ˆã‚Šé©åˆ‡ãªãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥

#### ğŸ“ é–‹ç™ºä½“é¨“å‘ä¸Š
- **å‹å®‰å…¨æ€§**: TypeScript strict ãƒ¢ãƒ¼ãƒ‰ã§ã®å®Œå…¨å¯¾å¿œ
- **ãƒ‡ãƒãƒƒã‚°æƒ…å ±**: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã§ã®è©³ç´°ãªå‹•ä½œç¢ºèª
- **ã‚³ãƒ¼ãƒ‰å“è³ª**: ESLint/Prettier ã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

#### ğŸ¤ éŸ³å£°é€šè©±æ©Ÿèƒ½å®Ÿè£…ï¼ˆ2025-01-21ï¼‰
- **WebSocketéŸ³å£°ã‚µãƒ¼ãƒãƒ¼**: Node.js + TypeScript ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°é€šè©±ã‚·ã‚¹ãƒ†ãƒ 
- **éŸ³å£°èªè­˜ãƒ»åˆæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: Whisper API + VoiceVox/ElevenLabs çµ±åˆ
- **VADï¼ˆéŸ³å£°æ´»å‹•æ¤œçŸ¥ï¼‰**: è‡ªå‹•ç™ºè©±é–‹å§‹ãƒ»çµ‚äº†æ¤œå‡ºã«ã‚ˆã‚‹è‡ªç„¶ãªä¼šè©±ä½“é¨“
- **ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼æœ€é©åŒ–**: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ãƒ»æ®µéšçš„éŸ³å£°åˆæˆãƒ»éŸ³å£°ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ**: Zustandã‚¹ãƒˆã‚¢ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ãƒ»ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã¨ã®å®Œå…¨é€£æº

### 2025-01-21 éŸ³å£°é€šè©±æ©Ÿèƒ½å®Ÿè£…çŠ¶æ³

#### ğŸ—ï¸ éŸ³å£°é€šè©±ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**ã‚µãƒ¼ãƒãƒ¼å´å®Ÿè£…**
- **WebSocketéŸ³å£°ã‚µãƒ¼ãƒãƒ¼**: `éŸ³å£°é€šè©±/voice-server.js` - ãƒãƒ¼ãƒˆ8082ã§å‹•ä½œ
- **éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: éŸ³å£°èªè­˜ â†’ AIå¿œç­”ç”Ÿæˆ â†’ éŸ³å£°åˆæˆ â†’ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é€ä¿¡
- **VADå®Ÿè£…**: ç°¡æ˜“éŸ³å£°ãƒ¬ãƒ™ãƒ«æ¤œå‡ºã«ã‚ˆã‚‹ç™ºè©±åŒºé–“ã®è‡ªå‹•åˆ¤å®š
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: OpenAI APIã‚­ãƒ¼ãªã—ã§ã‚‚ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ã§å‹•ä½œç¢ºèªå¯èƒ½

**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…**
- **éŸ³å£°é€šè©±ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**: `éŸ³å£°é€šè©±/voice-test-component.ts` - æ®µéšçš„ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
- **WebSocketé€šä¿¡**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®åŒæ–¹å‘ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
- **éŸ³å£°ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ãƒ¬ãƒ™ãƒ«è¡¨ç¤º
- **ãƒã‚¤ã‚¯åˆ¶å¾¡**: éŒ²éŸ³é–‹å§‹ãƒ»åœæ­¢ãƒ»ãƒŸãƒ¥ãƒ¼ãƒˆæ©Ÿèƒ½

#### ğŸ“ éŸ³å£°é€šè©±é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
éŸ³å£°é€šè©±/
â”œâ”€â”€ voice-server.js              # ãƒ¡ã‚¤ãƒ³éŸ³å£°ã‚µãƒ¼ãƒãƒ¼ï¼ˆNode.jsï¼‰
â”œâ”€â”€ voice-test-component.ts      # ãƒ†ã‚¹ãƒˆç”¨Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ éŸ³å£°é€šè©±.txt                 # å®Ÿè£…ä»•æ§˜æ›¸ãƒ»çµ±åˆã‚¬ã‚¤ãƒ‰
â””â”€â”€ éŸ³å£°é€šè©±ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³.md  # ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
```

#### ğŸ”§ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

**éŸ³å£°å‡¦ç†**
- âœ… WebSocketæ¥ç¶šãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ãƒ‡ãƒ¼ã‚¿é€å—ä¿¡
- âœ… éŸ³å£°ãƒ¬ãƒ™ãƒ«æ¤œå‡ºãƒ»ç™ºè©±åŒºé–“åˆ¤å®š
- âœ… éŸ³å£°èªè­˜ï¼ˆWhisper API / ãƒ¢ãƒƒã‚¯ï¼‰
- âœ… AIå¿œç­”ç”Ÿæˆï¼ˆGPT-3.5-turbo / ãƒ¢ãƒƒã‚¯ï¼‰
- âœ… éŸ³å£°åˆæˆï¼ˆVoiceVox / ElevenLabsï¼‰
- âœ… éŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°

**UI/UX**
- âœ… éŸ³å£°é€šè©±ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼
- âœ… é€šè©±çŠ¶æ…‹è¡¨ç¤ºï¼ˆæ¥ç¶šãƒ»éŒ²éŸ³ãƒ»å‡¦ç†ä¸­ãƒ»å†ç”Ÿä¸­ï¼‰
- âœ… éŸ³å£°åˆ¶å¾¡ãƒœã‚¿ãƒ³ï¼ˆéŒ²éŸ³ãƒ»ãƒŸãƒ¥ãƒ¼ãƒˆãƒ»ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ï¼‰
- âœ… é€šè©±æ™‚é–“ãƒ»æ¥ç¶šçŠ¶æ…‹è¡¨ç¤º
- âœ… ç™ºè©±å†…å®¹ã®æ–‡å­—èµ·ã“ã—è¡¨ç¤º

**çµ±åˆæ©Ÿèƒ½**
- âœ… æ—¢å­˜ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº
- âœ… ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã¸ã®éŸ³å£°ä¼šè©±è¨˜éŒ²
- âœ… Zustandã‚¹ãƒˆã‚¢ã¨ã®çŠ¶æ…‹åŒæœŸ
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

#### ğŸš§ ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

**å‹•ä½œç¢ºèªæ¸ˆã¿**
- WebSocketæ¥ç¶šãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºç«‹
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿é€ä¿¡ï¼ˆ2,855ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ç¢ºèªæ¸ˆã¿ï¼‰
- åŸºæœ¬çš„ãªã‚µãƒ¼ãƒãƒ¼ãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé€šä¿¡

**ãƒ‡ãƒãƒƒã‚°ä¸­**
- éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Œå…¨å‹•ä½œ
- VADã«ã‚ˆã‚‹ç™ºè©±åŒºé–“æ¤œå‡ºã®æœ€é©åŒ–
- éŸ³å£°èªè­˜ãƒ»åˆæˆã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰å‡¦ç†

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
- éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å‹•ä½œç¢ºèªãƒ»æœ€é©åŒ–
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
- æœ¬æ ¼çš„ãªUIçµ±åˆ

#### ğŸ› ï¸ é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒ

**å¿…è¦ãªä¾å­˜é–¢ä¿‚**
```bash
# ã‚µãƒ¼ãƒãƒ¼å´
npm install ws express axios dotenv openai uuid

# é–‹ç™ºç”¨
npm install -D @types/ws @types/express
```

**ç’°å¢ƒå¤‰æ•°è¨­å®š**
```env
# .env.local
OPENAI_API_KEY=your_openai_api_key
NEXT_PUBLIC_VOICE_SERVER_URL=ws://localhost:8082
VOICEVOX_ENGINE_URL=http://127.0.0.1:50021
ELEVENLABS_API_KEY=your_elevenlabs_api_key
```

**èµ·å‹•ã‚³ãƒãƒ³ãƒ‰**
```bash
# éŸ³å£°ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
node éŸ³å£°é€šè©±/voice-server.js

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

#### ğŸ” ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**ç¾åœ¨ã®å•é¡Œ**
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿é€ä¿¡ã¯æˆåŠŸï¼ˆ2,855ä»¶ç¢ºèªæ¸ˆã¿ï¼‰
- ã‚µãƒ¼ãƒãƒ¼å´ã®éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å‡¦ç†ãŒåœæ­¢
- VADãƒ»éŸ³å£°èªè­˜ãƒ»éŸ³å£°åˆæˆã®ã„ãšã‚Œã‹ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ

**æ¨å¥¨ãƒ‡ãƒãƒƒã‚°æ‰‹é †**
1. `voice-server.js`ã§è©³ç´°ãƒ­ã‚°ã‚’ç¢ºèª
2. `VoiceCallTest.tsx`ã§æ®µéšçš„ã«ãƒ†ã‚¹ãƒˆ
3. å„å‡¦ç†æ®µéšã§ã®ã‚¨ãƒ©ãƒ¼ã‚’ç‰¹å®š
4. æœ€å°æ§‹æˆã‹ã‚‰å¾ã€…ã«æ©Ÿèƒ½ã‚’è¿½åŠ 

**ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**
```bash
# ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª
curl http://localhost:8082/health

# VOICEVOXæ¥ç¶šç¢ºèª
curl http://127.0.0.1:50021/speakers
```

#### ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä»•æ§˜

**éŸ³å£°å“è³ª**
- ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆ: 16kHz
- ãƒãƒ£ãƒ³ãƒãƒ«æ•°: 1ï¼ˆãƒ¢ãƒãƒ©ãƒ«ï¼‰
- ãƒ“ãƒƒãƒˆæ·±åº¦: 16bit
- ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚º: 20ms

**ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼æœ€é©åŒ–**
- éŸ³å£°åœ§ç¸®ç„¡åŠ¹åŒ–ï¼ˆperMessageDeflate: falseï¼‰
- ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚º: 2048ãƒã‚¤ãƒˆ
- ãƒãƒƒãƒ•ã‚¡é…å»¶: 10ms
- æ®µéšçš„éŸ³å£°åˆæˆï¼ˆå¥èª­ç‚¹ã§ã®æ—©æœŸé–‹å§‹ï¼‰

**ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥: æœ€å¤§100ä»¶
- å¿œç­”ãƒ†ã‚­ã‚¹ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥
- éŸ³å£°ã‚¯ã‚¨ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥

#### ğŸ¯ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

**çŸ­æœŸç›®æ¨™**
- éŸ³å£°å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Œå…¨å‹•ä½œ
- åŸºæœ¬çš„ãªéŸ³å£°é€šè©±æ©Ÿèƒ½ã®å®‰å®šåŒ–
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–

**ä¸­æœŸç›®æ¨™**
- WebRTCçµ±åˆã«ã‚ˆã‚‹P2Pé€šä¿¡
- è¤‡æ•°è¨€èªå¯¾å¿œ
- æ„Ÿæƒ…åˆ†æçµ±åˆ
- ã‚°ãƒ«ãƒ¼ãƒ—é€šè©±æ©Ÿèƒ½

**é•·æœŸç›®æ¨™**
- å•†ç”¨ãƒ¬ãƒ™ãƒ«ã®éŸ³å£°å“è³ª
- ã‚¯ãƒ©ã‚¦ãƒ‰å±•é–‹å¯¾å¿œ
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªçµ±åˆ